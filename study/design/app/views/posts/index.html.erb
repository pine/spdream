<div id="notice"><%= notice %></div>

<div class="jumbotron">
	<h1>
		Hello, world!
	</h1>
	<p>
		This is a Test Page using the Bootstrap.You can post a article, add comments, and delete them.
	</p>
	<p>
		<div class="btn-group">
			<a class="btn btn-primary btn-lg">
				Primary
			</a>
			<a class="btn btn-info btn-lg">
				Information
			</a>
			<a class="btn btn-success btn-lg">
				Success
			</a>
			<a class="btn btn-warning btn-lg">
				Warning
			</a>
			<a class="btn btn-danger btn-lg">
				Danger
			</a>
		</div>
	</p>
</div>

<h1>Posts</h1>

<!--
<ul>
	<% @posts.each do |post| %>
	<li id="post_<%= post.id %>">
		<%= link_to post.title, post_path(post) %> (<%= post.comments.size %>)
		<%= link_to 'Edit', edit_post_path(post) %>
		<%= link_to 'Delete', post, :confirm => 'Sure?',
		:method => :delete,
		:remote => true %>
	</li>
	<% end %>
</ul>
-->

<table class="table table-hover table-responsive">
	<thead>
		<tr>
			<th>Title</th>
			<th>Comments</th>
			<th>Edit</th>
			<th>Delete</th>
		</tr>
	</thead>
	<tbody>
		<% @posts.each do |post| %>
		<tr id="post_<%= post.id %>">
   			<td><%= link_to post.title, post_path(post) %></td>
		    <td><%= post.comments.size %></td>
		    <td><%= link_to 'Click', edit_post_path(post) %></td>
		    <td><%= link_to 'Click', post, :confirm=> 'Sure?',
			:method => :delete,
			:remote => true %></td>
		</tr>
		<% end %>
	</tbody>
</table>

<div class="text-center">
<!-- 
	<%= link_to 'Home', posts_path %> | <%= link_to 'New Post', new_post_path%>
-->
	<button type="button" class="btn btn-default">
		<%= link_to 'Goto Home', posts_path %>
	</button>
	<button type="button" class="btn btn-default">
		<%= link_to 'New Post', new_post_path %>
	</button>
<!--
	<a data-toggle="modal" href=<%= new_post_path %> class="btn btn-default">New Post
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title"> モーダルのタイトル</h4>
					</div>
					<div class="modal-body">
						<p>モーダルのコンテンツ</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">閉じる</button>
					</div>
				</div>
			</div>
		</div>
	</a>
-->
</dvi>

<script>
$(Function() (
  setTimeout(function() (
    $('#notice').fadeOut("slow")
  ), 800);

  $(document).on('ajax:success', 'a[data-method="delete"]', function(e, data, status, xhr){
  	$('#post_'+data.post.id).fadeOut("slow");
  }));

));